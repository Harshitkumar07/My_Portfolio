@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #111827; /* slate-900 */
}

/* Theme variables controlled by next-themes classes on <html> */
html.earth {
  --background: #f7faf7; /* soft white w/ green tint */
  --foreground: #0f172a; /* slate-900 */
}
html.dark {
  --background: #0a0a1a; /* deep space */
  --foreground: #e5e7eb; /* zinc-200 */
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
  transition: background-color 400ms cubic-bezier(.4,0,.2,1),
              color 300ms cubic-bezier(.4,0,.2,1),
              background 400ms cubic-bezier(.4,0,.2,1);
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  .glass-card {
    @apply bg-white/30 dark:bg-transparent backdrop-blur-md dark:backdrop-blur-sm border border-white/20 dark:border-purple-500/20 shadow-lg ring-1 ring-purple-400/20 hover:ring-2 hover:ring-cyan-400/40 transition-all duration-300;
  }
  .glass-section {
    @apply bg-white/15 dark:bg-transparent backdrop-blur-md dark:backdrop-blur-0 border border-white/10 dark:border-transparent shadow-xl dark:shadow-none ring-1 ring-purple-400/10 dark:ring-0;
  }
  .cosmic-border {
    @apply border-2 border-purple-500/50 shadow-[0_0_32px_8px_rgba(147,112,219,0.25)];
  }
  .space-glow {
    @apply shadow-[0_0_20px_rgba(138,43,226,0.3)];
  }
  .nebula-text {
    background: linear-gradient(45deg, #9370DB, #4169E1, #FF1493, #00CED1);
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: nebula-flow 8s ease-in-out infinite;
  }
}


/* Enhanced smooth scrolling with performance optimizations */
html {
  scroll-behavior: smooth;
  scroll-padding-top: 70px; /* Account for fixed navbar */
}

/* Performance optimizations for smooth scrolling */
* {
  box-sizing: border-box;
}

body {
  overflow-x: hidden;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch; /* iOS smooth scrolling */
  overscroll-behavior: none; /* Prevent overscroll bounce */
}

/* Optimize animations for performance */
@media (prefers-reduced-motion: no-preference) {
  * {
    scroll-behavior: smooth;
  }
}

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Additional space-themed animations */
@keyframes nebula-flow {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes cosmic-pulse {
  0%, 100% { opacity: 0.5; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.05); }
}

/* Theme-scoped custom scrollbar styling */
::-webkit-scrollbar {
  width: 12px;
}

/* Space (dark) */
html.dark ::-webkit-scrollbar-track {
  background: linear-gradient(180deg, #0a0a1a 0%, #16213e 50%, #0a0a1a 100%);
  border-radius: 8px;
}
html.dark ::-webkit-scrollbar-thumb {
  background: linear-gradient(45deg, #9370DB, #4169E1);
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
  box-shadow: inset 0 0 10px rgba(138, 43, 226, 0.3);
}
html.dark ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(45deg, #BA55D3, #6495ED);
  box-shadow: inset 0 0 15px rgba(138, 43, 226, 0.5), 0 0 10px rgba(138, 43, 226, 0.3);
}

/* Earth (light) */
html.earth ::-webkit-scrollbar-track {
  background: linear-gradient(180deg, #f7faf7 0%, #e5f3ea 50%, #f7faf7 100%);
  border-radius: 8px;
}
html.earth ::-webkit-scrollbar-thumb {
  background: linear-gradient(45deg, #22c55e, #84cc16);
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
  box-shadow: inset 0 0 10px rgba(34, 197, 94, 0.25);
}
html.earth ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(45deg, #16a34a, #65a30d);
  box-shadow: inset 0 0 15px rgba(34, 197, 94, 0.4), 0 0 8px rgba(34, 197, 94, 0.25);
}

/* Firefox scrollbar styling */
html.dark * {
  scrollbar-width: thin;
  scrollbar-color: #9370DB #0a0a1a;
}
html.earth * {
  scrollbar-width: thin;
  scrollbar-color: #84cc16 #f7faf7;
}
